!function(e,t){"use strict";function o(t,o){var n=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},closeClass:T+"-close"},o);return n.overlay.fillColor=n.overlay.fillColor||n.overlay.color||"#888",n.zIndex=n.zIndex||n.overlay.zIndex+1,u||(u=e(window),p=e('<div class="'+T+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"150%",display:"none"}).appendTo(d=e("body")).click(i).on("touchmove",function(){return!1}),e(document).focusin(function(t){k&&!k.has(t.target).length&&(v?v.focus():e(document.activeElement).blur())}).keydown(function(e){return k&&27===e.keyCode?i(e):void 0})),t.each(function(){var t=e(this),o={position:"fixed",display:"none",zIndex:n.zIndex};n.offset?"function"==typeof n.offset?n.offset=function(e){return function(){var t=this;return e.call(t,function(){l.call(t)})}}(n.offset):(o.left=n.offset.left,o.top=n.offset.top,o.marginLeft=o.marginTop=""):n.offset=l,n.closeClass&&t.find("."+n.closeClass).off("click",i).click(i),e.each([["open",z],["close",C],["beforeopen",I],["beforeclose",L]],function(e,o){var i=o[0],r=o[1];"function"==typeof n[i]&&t.off(r,n[i]).on(r,n[i])}),t.css(o).data(w,n).appendTo(d).on("touchmove",function(){return!1})})}function n(n,l){var T,C,L,E,D,B=n.length?n.eq(0):t;return f||!B?n:((l||!(T=B.data(w)))&&(T=o(B,l).data(w)),!a&&T.force&&s&&s.get(0)!==B.get(0)&&(s.stop(!0,!0),p.stop(!0,!0)),!a&&T.force&&k&&k.get(0)!==B.get(0)?(a=B,i(k)):null===k&&(f=!0,D=e.Event(I,{cancelable:!0}),B.trigger(D),D.isDefaultPrevented()||(C=d.get(0).style,h=C.overflow,L=d.prop("clientWidth"),E=d.prop("clientHeight"),d.css("overflow","hidden"),L-=d.prop("clientWidth"),E-=d.prop("clientHeight"),m=C.marginRight,y=C.marginBottom,0>L&&d.css("marginRight","+="+-L),0>E&&d.css("marginBottom","+="+-E),g=e(document.activeElement).blur(),v=null,x=u.scrollLeft(),b=u.scrollTop(),u.scroll(c),r(B,T),T.effect.open.call(s=B,T.duration||1,function(){s=t,B.find("a,input,select,textarea,button,object,area,img,map").each(function(){var t=e(this);return t.focus().get(0)===document.activeElement?(v=t,!1):void 0}),k=B,B.trigger(z)}),p.css({backgroundColor:T.overlay.fillColor,zIndex:T.overlay.zIndex}).fadeTo(T.duration,T.overlay.opacity),k=0),f=!1),n)}function i(o){var i,r,l,v,T=o instanceof e.Event;return!f&&k&&(f=!0,i=T?k:function(){var e=o.index(k);return e>-1?o.eq(e):t}(),i&&(l=e.Event(L,{cancelable:!0}),i.trigger(l),l.isDefaultPrevented()?a=t:(r=i.data(w),v=a?1:r.duration||1,r.effect.close.call(s=i,v,function(){s=t,d.css({overflow:h,marginRight:m,marginBottom:y}),g&&g.length&&g.focus(),u.off("scroll",c).scrollLeft(x).scrollTop(b),k=null,i.trigger(C),a&&window.setTimeout(function(){n(a),a=t},0)}),p.fadeOut(v),k=0)),f=!1),T?(o.preventDefault(),!1):o}function r(e,t){var o;t=t||e.data(w),"function"==typeof t.offset&&(o=t.offset.call(e))&&e.css({left:o.left,top:o.top,marginLeft:"",marginTop:""})}function l(){this.css({left:"50%",top:"50%",marginLeft:"-"+this.outerWidth()/2+"px",marginTop:"-"+this.outerHeight()/2+"px"})}function c(e){return u.scrollLeft(x).scrollTop(b),e.preventDefault(),!1}var f,a,s,u,d,p,g,v,h,m,y,x,b,w="plainModal",T=w.toLowerCase(),z=T+"open",C=T+"close",I=T+"beforeopen",L=T+"beforeclose",k=null;e(function(){e(window).resize(function(){k&&r(k)})}),e.fn[w]=function(e,t){return"open"===e?n(this,t):"close"===e?i(this):o(this,e)}}(jQuery);